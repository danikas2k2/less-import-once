"use strict";var i=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var C=(t,e)=>{for(var o in e)i(t,o,{get:e[o],enumerable:!0})},D=(t,e,o,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _(e))!A.call(t,s)&&s!==o&&i(t,s,{get:()=>e[s],enumerable:!(n=R(e,s))||n.enumerable});return t};var I=t=>D(i({},"__esModule",{value:!0}),t);var q={};C(q,{default:()=>P});module.exports=I(q);var h=require("buffer"),l=require("webpack"),a="less-import-once",f="shared-imports",M=function(t,e,o){let n=this.async();(async()=>{if(!this._compiler?.options?.cache)return n?.(new l.WebpackError(`${a} requires webpack cache to be enabled`));let s=this._compiler?.getCache(a);if(!s)return n?.(new l.WebpackError(`${a} requires webpack cache to be enabled`));let r=await s.getPromise(f,null);r||(r=new Map);let{size:w}=r,{resourcePath:p}=this,u=new Set,b=t.toString().replace(/[ \t]*@import\s*\(\s*(?:\w+\s*,\s*)*once(?:\s*,\s*\w+)*\s*\)\s*(?:url\(\s*'([^']+)'?\s*\)|url\(\s*"([^"]+)"?\s*\)|url\(\s*([^)]+)\s*\)|'([^']+)'|"([^"]+)")\s*;[ \t]*\n?/g,(d,g,k,E,y,L)=>{let c=g||k||E||y||L;if(u.has(c))return"";let m=r.get(c);return m!=null&&m!==p?"":(u.add(c),r.set(c,p),d)});return w!==r.size&&await s.storePromise(f,null,r),n(null,h.Buffer.from(b),e,o)})()},P=M;
